<!DOCTYPE html><html><head><meta charset='UTF-8'><title>Sepsis Tool</title><link rel='stylesheet' href='style.css'><link rel='manifest' href='manifest.json'></head><body>
<form id="sepsis-form">
  <h2>Phoenix Criteria</h2>

  <!-- Respiratory -->
  <label>Respiratory Support Escalation (e.g., new oxygen, BiPAP, or intubation)?</label>
  <select id="phoenix-respiratory">
    <option value="0">No</option>
    <option value="1">Yes</option>
  </select>

  <!-- Cardiovascular -->
  <label>Perfusion Abnormality (e.g., cap refill > 2 sec, cool extremities)?</label>
  <select id="phoenix-perfusion">
    <option value="0">No</option>
    <option value="1">Yes</option>
  </select>

  <!-- MAP -->
  <label for="phoenix-map-age">Select Age Group:</label>
  <select id="phoenix-map-age" onchange="updateMapScore()">
    <option value="">--Select Age--</option>
    <option value="0-1">0–1 mo</option>
    <option value="1-11">1–11 mo</option>
    <option value="12-23">1–2 yr</option>
    <option value="24-59">2–5 yr</option>
    <option value="60-143">5–12 yr</option>
    <option value="144-216">12–17 yr</option>
  </select>

  <label for="phoenix-map-value">Enter MAP (mmHg):</label>
  <input type="number" id="phoenix-map-value" oninput="updateMapScore()" />
  <input type="hidden" id="phoenix-map-score" value="0" />

  <!-- Coagulation -->
  <label>INR > 1.5 or Platelets < 100K?</label>
  <select id="phoenix-coag">
    <option value="0">No</option>
    <option value="1">Yes</option>
  </select>

  <!-- Neurological -->
  <label>GCS ≤ 11 or sudden mental status change?</label>
  <select id="phoenix-neuro">
    <option value="0">No</option>
    <option value="2">Yes</option>
  </select>

  <button type="button" onclick="calculatePhoenixScore()">Calculate Phoenix Score</button>
  <div id="phoenix-result"></div>

  <h2>SIRS Criteria</h2>

  <!-- Temperature -->
  <label>Abnormal Temperature (&lt;36°C or &gt;38.5°C)?</label>
  <select id="sirs-temp">
    <option value="0">No</option>
    <option value="1">Yes</option>
  </select>

  <!-- Age-based Heart Rate -->
  <label>Heart Rate Abnormal for Age?</label>
  <select id="sirs-hr">
    <option value="0">No</option>
    <option value="1">Yes</option>
  </select>

  <!-- Age-based Respiratory Rate -->
  <label>Respiratory Rate Abnormal for Age?</label>
  <select id="sirs-rr">
    <option value="0">No</option>
    <option value="1">Yes</option>
  </select>

  <!-- Systolic BP -->
  <label>Hypotension (Low Systolic BP for Age)?</label>
  <select id="sirs-bp">
    <option value="0">No</option>
    <option value="1">Yes</option>
  </select>

  <!-- WBC -->
  <label>Abnormal WBC Count?</label>
  <select id="sirs-wbc">
    <option value="0">No</option>
    <option value="1">Yes</option>
  </select>

  <button type="button" onclick="calculateSirsScore()">Calculate SIRS Score</button>
  <div id="sirs-result"></div>
</form>

<script>
function updateMapScore() {
  const age = document.getElementById('phoenix-map-age').value;
  const value = parseInt(document.getElementById('phoenix-map-value').value);
  let score = 0;
  const thresholds = {
    "0-1": [30, 25],
    "1-11": [38, 33],
    "12-23": [41, 36],
    "24-59": [44, 39],
    "60-143": [46, 41],
    "144-216": [51, 46]
  };
  if (thresholds[age]) {
    const [normal, low] = thresholds[age];
    if (value >= normal) score = 0;
    else if (value >= low) score = 1;
    else score = 2;
  }
  document.getElementById('phoenix-map-score').value = score;
}

function calculatePhoenixScore() {
  const resp = parseInt(document.getElementById('phoenix-respiratory').value);
  const perf = parseInt(document.getElementById('phoenix-perfusion').value);
  const map = parseInt(document.getElementById('phoenix-map-score').value);
  const coag = parseInt(document.getElementById('phoenix-coag').value);
  const neuro = parseInt(document.getElementById('phoenix-neuro').value);
  const total = resp + perf + map + coag + neuro;
  document.getElementById('phoenix-result').innerHTML = `<p><strong>Phoenix Score:</strong> ${total}</p>`;
}

function calculateSirsScore() {
  const temp = parseInt(document.getElementById('sirs-temp').value);
  const hr = parseInt(document.getElementById('sirs-hr').value);
  const rr = parseInt(document.getElementById('sirs-rr').value);
  const bp = parseInt(document.getElementById('sirs-bp').value);
  const wbc = parseInt(document.getElementById('sirs-wbc').value);
  const total = temp + hr + rr + bp + wbc;
  const valid = (temp || wbc) && total >= 2;
  document.getElementById('sirs-result').innerHTML = `<p><strong>SIRS Score:</strong> ${total} — ${valid ? 'Positive' : 'Negative'}</p>`;
}
</script>
</body></html>